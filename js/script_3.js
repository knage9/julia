document.addEventListener('DOMContentLoaded', function () {
    const chatBody = document.getElementById('chat-body');
    const dialogItems = document.querySelectorAll('.dialog-item');

    const dialogs = {
        dialog1: [
            { sender: 'sent', text: '–ü—Ä–∏–≤–µ—Ç. –£ –Ω–∞—Å –µ—Å—Ç—å —á–∞—Ç –∫–¥. –ü—Ä–æ—Å—Ç–æ –æ–±—â–∞–µ–º—Å—è –≤ –Ω–µ–º –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã. https://t.me/+vpbrUKCa7yxkNWRi' },
            { sender: 'received', text: '+' },
        ],
        dialog2: [
            { sender: 'sent', text: '–ü—Ä–∏–≤–µ—Ç, –º—ã –≥–¥–µ –∏ –≤–æ —Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ–º—Å—è?'},
            {sender: 'sent', text: '–û—Ç –∫–∞–∫–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –≤—ã –ø–æ–µ–¥–µ—Ç–µ ? –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è?'},
            { sender: 'received', text: '–ø—Ä–∏–≤–µ—Ç, –º—ã –ø–æ–µ–¥–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 20:40 –Ω–∞ –≤–¥–Ω—Ö' },
            { sender: 'sent', text: '–¢–æ–≥–¥–∞ —Ç–∞–º –≤ 21?' },
            { sender: 'received', text: '–¥–∞' },
            { sender: 'received', text: '–∞—Ä—Ç—ë–º, –º—ã –Ω–µ —É—Å–ø–µ–µ–º –∫ 21)) –∫ 21:15 —Å–∫–æ—Ä–µ–µ' },
            { sender: 'received', text: '–∞ –º—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ –±—ã–ª–∏' },
            { sender: 'sent', text: '–ß—Ç–æ –∫—É–ø–∏–ª–∏' },
            { sender: 'received', text: '–∂–∏–∂—É' },
            { sender: 'received', text: '–∞—Ö—Ö–∞—Ö–ø—Ö–∞' },
            { sender: 'sent', text: '–ê—Ö–∞—Ö–∫—Ö' },
            { sender: 'image', text: 'img/2.jpg' }
        ],
        dialog3: [
            { sender: 'image', text: 'img/3.jpg' },
            { sender: 'image', text: 'img/4.jpg' },
            { sender: 'sent', text: '–ë–ª–∏–Ω –Æ–ª—å, –º–Ω–µ —Ç–∞–∫ –ø—Ä–∏—è—Ç–Ω–æ –±—ã–ª–æ –ø–æ–æ–±—â–∞—Ç—å—Å—è. –¢—ã –∫–∞–π—Ñ–æ–≤–∞—è)' },
            { sender: 'received', text: '–æ–æ–π, —Å–ø–∞—Å–∏–±–æ, —è —Ä–∞–¥–∞, –º–Ω–µ —Ç–æ–∂–µ –ø—Ä–∏—è—Ç–Ω–æ))' },
            { sender: 'sent', text: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞)' },
            { sender: 'received', text: '—è —Ç–µ–±–µ –∫—Å—Ç–∞—Ç–∏ –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑–∞–ª–∞ —á—Ç–æ —è —Ç–∞–º –¥–ª—è –æ—Ç—á–µ—Ç–∞ –¥–µ–ª–∞—éüòãüòã' },
            { sender: 'sent', text: '–û–æ–æ –¥–∞–≤–∞–π' },
            { sender: 'video', text: 'img/5.mp4' },
        ],
        dialog4:[
            { sender: 'image', text: 'img/6.jpg' },
            { sender: 'sent', text: '–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö' },
            { sender: 'sent', text: '–∫–∞–∫ —Ç–∞–º –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π?' },
            { sender: 'received', text: '—Å–æ —Å–∫—Ä–∏–ø–æ–º –∞—Ö–≤—Ö–∞' },
            { sender: 'video', text: 'img/7.mp4' },
            { sender: 'video', text: 'img/8.mp4' },
            { sender: 'received', text: '–∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞–∞—Ö–∞—Ö–∞—Ö–ø' },
            { sender: 'received', text: '—Ö–∞—Ö—Ö–∞—Ö–∞—Ö–≤—Ö–≤' },
            { sender: 'received', text: '—á—Ç–æ —É –≤–∞—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç))' },
            { 
                sender: 'sent', 
                text: `–î–∞–≤–Ω–æ –∑–∞–±—ã–ª –∫–∞–∫ –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º‚Ä¶\n–í–µ–¥—å –º–æ–π —ç–ø–∏—Ç–µ—Ç —ç—Ç–æ —Ç—ã!\n–ö–∞–∫ –∂–∏—Ç—å —è –±—É–¥—É –±–µ–∑ –ª—é–±–≤–∏\n–ú–æ—è –ª—é–±–æ–≤—å –ø—Ä–æ—Å—Ç–∏‚Ä¶\n\n–ò —Å–∫–∞–∂–µ—à—å —Ç—ã –ª—é–±–∏\n–õ—é–±–∏, –º–µ–Ω—è, –ª—é–±–∏\n–ê —è –ª—é–±–ª—é –ø–æ—ç—Ç–æ–º—É —Å–ª–æ–≤–∞ —è —ç—Ç–∏ –≥–æ–≤–æ—Ä—é!\n\n–ù–µ –∏–∑–º–µ–Ω–Ω–∏–∫, –Ω–µ —É–±–∏–π—Ü—ã,\n–ù–µ –≤–æ—Ä, –Ω–µ –∫—Ä–æ–≤–æ–ø–∏–π—Ü–∞\n–í –±–µ–¥–∞—Ö –†–æ—Å—Å–∏–∏ –≤–∏–Ω–æ–≤–∞—Ç –ª–∏—à—å —Ç–æ–ª—å–∫–æ —è\n–ó–æ–≤–µ—à—å –º–µ–Ω—è —Ç—ã –Ω–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ª–∏–±–µ—Ä–∞–ª\n\n–°–º–µ–Ω—è—é—Ç—Å—è —ç–ø–æ—Ö–∏, –≤—Ä–µ–º–µ–Ω–∞,\n–û–¥–Ω–æ –ª–∏—à—å –Ω–µ–∏–∑–º–µ–Ω–Ω–æ –≤–µ–∫ –∑–∞ –≤–µ–∫–æ–º:\n–¢–≤–æ–π –≤—ã–±–æ—Ä:\n–ñ–∏–∑–Ω—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–µ–ª–æ–≤–µ–∫–æ–º\n\n–°–∫–æ–ª—å —É–≥–æ–¥–Ω–æ —Ç–≤–µ—Ä–¥–∏—Ç–µ –∑—Ä—è:\n"–ù–µ –¥–µ–ª–∞–π —Ç–æ, –Ω–µ –¥–µ–ª–∞–π —ç—Ç–æ‚Ä¶"\n–ú–æ—è –ª—é–±–æ–≤—å –Ω–∞–≤–µ–∫–∏‚Ä¶\n–≠—Ç–æ –∏ –±–æ–ª—å, –∏ —Ç—Ä–µ–ø–µ—Ç!\n\n–ú–æ—Ä–∞–ª—å —Å–µ–π –ø—Ä–∏—Ç—á–∏, –≤ –æ–±—â–µ–º, —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞,\n–õ—é–±–æ–π —É—Å—Ç–∞–Ω–µ—Ç, –∏ —è —É—Å—Ç–∞–ª\n–£—Å—Ç–∞–ª —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç—Ç–∏ –ª–∏—Ü–∞\n–Ø —Å–¥–µ–ª–∞–ª –≤—Å–µ‚Ä¶\n\n–ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–π–¥—É —è –º–µ—Å—Ç–æ –≤ —ç—Ç–æ–º –º–∏—Ä–µ,\n–ì–¥–µ —É–∂–µ –Ω–µ –±—É–¥–µ—Ç –ø—É—Å—Ç–æ—Ç—ã...\n–ì–¥–µ —Å–º–æ–≥—É –ø–æ–∑–∞–±—ã—Ç—å –ø–µ—á–∞–ª–∏ —è,\n–°—Ç–µ–Ω, —É–¥—É—à–ª–∏–≤–æ–π, —Ç–µ—Å–Ω–æ—Ç—ã.` 
            },
            { sender: 'received', text: '–º–Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è –º—ã—Å–ª–∏' },
            { sender: 'sent', text: '–ù–æ —Å—Ç–∏—Ö —Ö—É–π–Ω—è –±–µ–∑ —Ä–∏—Ñ–º—ã –∞—Ö–∞—Ö–ø—Ö–ø—Ö —è –∑–Ω–∞—é' },
            { sender: 'received', text: '–∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö–∞–∞—Ö–∞—Ö' },
            { sender: 'received', text: '—è –º–æ–≥—É —Å–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞–≤–µ—Ä–Ω–æ–µ....' },
            { sender: 'received', text: '—Å—Ç—Ä–∞—à–Ω–æ –∞—Ö–∞—Ö—Ö–∞—Ö–∞' },
            { 
                sender: 'received', 
                text: `–¢–∞–º –∫–∞–∂–µ—Ç—Å—è,\n—á—Ç–æ —è –æ–≥—Ä–∞–∂–¥–µ–Ω–∞\n–æ—Ç –ø—É—Å—Ç—ã—Ö —Å–ª–æ–≤,\n—á—Ç–æ –±—Ä–æ—à–µ–Ω—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª\n–∏ –¥–æ–Ω–µ—Å–ª–∏—Å—å –¥–æ —Å–ª—É—Ö–∞\n–ª—é–±–∏–º–æ–≥–æ\n—Ç–∞–∫ –∏—Å–∫—Ä–µ–Ω–Ω–µ –∏ –Ω–µ–∂–Ω–æ\n–æ–≥—Ä–æ–º–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞\n–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.\n–¢–∞–º –∫–∞–∂–µ—Ç—Å—è,\n—á—Ç–æ —è –Ω–µ —Å–ª—ã—à—É –ø—Ä–µ—Ä–µ–∫–∞–Ω–∏–π\n–∏ –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤,\n–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫ –≥–ª—É—à–∞—Ç,\n—á—Ç–æ —Ö–æ—á–µ—Ç—Å—è —Å–±–µ–∂–∞—Ç—å,\n–∫—Ä–∏—á–∞—Ç—å, –∑–∞–∫—Ä—ã—Ç—å—Å—è,\n–±–∏—Ç—å.\n–¢–∞–º –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –Ω–µ—Ç\n—Ç–µ—Ö —Å–ª–æ–∂–Ω—ã—Ö, –Ω–µ–æ–±—ä—è—Ç–Ω—ã—Ö,\n–Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö\n–º–µ—á—Ç.\n\n–ú—ã –ø—Ä–æ—Å—Ç–æ –±—ã—Å—Ç—Ä–æ,\n–º–µ–¥–ª–µ–Ω–Ω–æ –∫–∞—Å–∞–µ–º—Å—è\n—Å–≤–æ–∏—Ö –∂–µ —É–≥–æ–ª–∫–æ–≤,\n–∫–æ–≥–¥–∞ –º—ã –≤–º–µ—Å—Ç–µ,\n–º—ã –Ω–µ –≤–∏–¥–∏–º –æ—Å—Ç—Ä–∏—ë,\n–Ω–∞–º –Ω–µ–≤–¥–æ–º—ë–∫.\n–ö–æ–≥–¥–∞ –º—ã –≤—Ä–æ–∑—å,\n—Ç–æ —á—É–≤—Å—Ç–≤–∞ –º–µ–Ω—å—à–µ –æ—â—É—Ç–∏–º—ã,\n–º—ã —Å–æ–∑–Ω–∞–µ–º\n–≤—Å—é –±–æ–ª—å,\n–≤ –∏—Ç–æ–≥–µ –ø–æ–Ω–∏–º–∞—è,\n—á—Ç–æ –≤—Å—ë –∂–µ\n–Ω–µ–¥–µ–ª–∏–º—ã.\n\n–ò –ø—Ä–æ–±—É–∂–¥–∞—è—Å—å, –ø–æ–Ω—è—Ç—å,\n—á—Ç–æ —ç—Ç–æ —Å–æ–Ω,\n–≤ —Å—Ç—Ä–∞—Ö–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—è –æ—á–∏:\n¬´–≠—Ç–æ —Ç–∞–∫ —Å–ª–æ–∂–Ω–æ,\n–æ—á–µ–Ω—å-–æ—á–µ–Ω—å¬ª, -\n—Å–∫–∞–∑–∞–ª –±—ã –æ–Ω\n—Ç–æ–≥–¥–∞-—Ç–æ –Ω–æ—á—å—é.`
            },
            { sender: 'sent', text: '–ù–æ —Å—Ç–∏—Ö –∞—Ö—É–µ–Ω–Ω—ã–π' },
            { sender: 'sent', text: '–ú–Ω–µ –æ—á–µ–Ω—å –Ω—Ä–∞–≤–∏—Ç—Å—è' },
            { sender: 'sent', text: '–£–º–Ω–∏—á–∫–∞' },
            { sender: 'received', text: '—è –¥—É–º–∞–ª–∞ –Ω–∏–∫–æ–º—É –Ω–µ –ø–æ–∫–∞–∂—É, –ø–æ–∫–∞ –Ω–µ —Å–æ–∑—Ä–µ—é, –Ω–æ —Ä–∞–∑ –≤—Å–µ –Ω–µ —Ç–∞–∫ –ø–ª–æ—Ö–æ' },
        ],
        dialog5: [
            { sender: 'image', text: 'img/9.jpg' },
            { sender: 'sent', text: '–ê—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–≤—Ö —Å—É–∫–∞' },
            { sender: 'sent', text: '–≠—Ç–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—Å–∫–æ–π —Å—Ç–æ–∏—Ç' },
            { sender: 'received', text: '–•–ê–•–ê–•–ê–•–ê–•' },
            { sender: 'sent', text: '–ì–æ–ª–æ–¥–Ω—ã–πüò≠' },
            { sender: 'received', text: '—Ç–∞—Ä–µ–ª–∫–∞ —Å—Ç–æ–∏—Ç –∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö—Ö–∞' },
            { sender: 'received', text: '–æ–Ω–∏ –º–æ–∂–µ—Ç —Ö–æ—Ç—è—Ç –¥–∞—Ä–∏—Ç—å –ª—é–±–æ–≤—å –Ω–æ –Ω–µ–∫–æ–º—É((' },
            { sender: 'sent', text: '–ê—Ö–ø—Ö–ø—Ö–ø—Ö–ø—Ö–ø—Ö' },
        ],
        dialog6: [
            { sender: 'image', text: 'img/10.jpg' },
            { sender: 'image', text: 'img/11.jpg' },
            { sender: 'sent', text: '–¢—ã —Ç–æ–∂–µ —Å–∫–∏–Ω—å —á—Ç–æ —Å–Ω–∏–º–∞–ª–∞' },
            { sender: 'received', text: '–∫–ª–∞—Å—Å —è —Å–æ —Å–≤–µ—á–∫–æ–π...' },
            { sender: 'received', text: '–ø—Ä–∏—Ä–æ–¥—É —Ç–æ?' },
            { sender: 'sent', text: '–í–∞–π–±–æ–≤—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)' },
            { sender: 'image', text: 'img/12.jpg' },
            { sender: 'image', text: 'img/13.jpg' },
            { sender: 'image', text: 'img/14.jpg' },
        ],
        dialog7: [
            { sender: 'sent', text: '–Ø –∫—Å—Ç–∞—Ç–∏ —Ç–≤–æ–π –ø–ª–µ–π–ª–∏—Å—Ç —Å–ª—É—à–∞–ª' },
            { sender: 'received', text: '–∫–∞–∫–æ–π' },
            { sender: 'sent', text: '–ö–æ—Ç–æ—Ä—ã–π —Ç—ã –º–Ω–µ —Å–∫–∏–¥—ã–≤–∞–ª–∞' },
            { sender: 'received', text: '–Ω–∏—Ñ–∏–≥–∞ —Å–µ–±–µ' },
            { sender: 'received', text: '–∏ –∫–∞–∫' },
            { sender: 'sent', text: '–ö–∞–∞–∞–π—Ñ' },
            { sender: 'received', text: '–∫–∞–∫–∏–µ –ø–µ—Å–Ω–∏ —Ç–µ–±—è —É–¥–∏–≤–∏–ª–∏ –¥–∞–≤–∞–π —Ç–∞–∫' },
            { sender: 'sent', text: '–ê—Ö–∞—Ö–ø—Ö–ø—Ö–ø—Ö' },
            { sender: 'sent', text: '–ú–µ–Ω—è —É–¥–∏–≤–∏–ª–æ –º–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∫–æ—Ç–æ—Ä—ã—Ö —è –Ω–µ –∑–Ω–∞—é' },
            { sender: 'sent', text: '–ú–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ø–ª–µ–π–ª–∏—Å—Ç' },
            { sender: 'received', text: '—É–¥–∏–≤–∏–ª —á–µ—Å—Ç–Ω–æ' },
            { sender: 'received', text: '–∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö' },
            { sender: 'video', text: 'img/15.mp4' },
        ],
        dialog8: [
            { sender: 'sent', text: '–Ø —á—É—Ç—å —Ä–∞–Ω—å—à–µ –ø—Ä–∏–µ—Ö–∞–ª' },
            { sender: 'image', text: 'img/15.jpg' },
            { sender: 'image', text: 'img/16.jpg' },
            { sender: 'image', text: 'img/17.jpg' },
            { sender: 'sent', text: '–ë–ª—è –∫–∞–∫-—Ç–æ –¥–∞–∂–µ —Å–∫—É—á–Ω–æ' },
            { sender: 'sent', text: '–ß—Ç–æ —è –Ω–µ –ø—å—è–Ω—ã–π –≤–æ–æ–±—â–µ' },
            { sender: 'sent', text: '–ê—Ö–∞—Ö–ø—Ö–ø—Ö–ø—Ö' },
            { sender: 'received', text: '–∞—Ö–∞—Ö–∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö—Ö–∞—Ö–∞—Ö–∞—Ö–∞' },
            { sender: 'received', text: '—ç—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã –ª—é–¥–µ–π –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—å—è–Ω–µ—é—Ç' },
            { sender: 'sent', text: '–ö–æ—Ä–æ—á–µ —Ö–æ—á—É –µ—â—ë –∞—Ö–ø—Ö—Ö–ø—Ö–ø—Ö' },
            { sender: 'received', text: '–ø–æ—Ä–∞ –≤–æ–¥–∫—É –±–∞—Ö–∞—Ç—å' },
            { sender: 'sent', text: '–°–æ–¥–∂—É' },
            { sender: 'received', text: '—ç—Ç–æ –¥–∞' },
            { sender: 'video', text: 'img/18.mp4' },
        ],
    };

    let currentDialog = 'dialog1';
    let messageIndex = 0;

    function addMessage(sender, text) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('telegram-message', sender);
    
        if (sender === 'image') {
            const img = document.createElement('img');
            img.src = text; // –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
            img.classList.add('responsive-image'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
            messageDiv.appendChild(img);
        } else if (sender === 'video') {
            const video = document.createElement('video');
            video.src = text; // –ø—É—Ç—å –∫ –≤–∏–¥–µ–æ
            video.autoplay = true; // –≤–∏–¥–µ–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            video.classList.add('responsive-video'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
            video.muted = false; // –æ—Ç–∫–ª—é—á–∞–µ–º –º—É—Ç–∏–Ω–≥
            video.volume = 0.5; // —Å—Ç–∞–≤–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≥—Ä–æ–º–∫–æ—Å—Ç—å
    
            messageDiv.appendChild(video);
    
            video.play().catch(error => {
                console.warn('–ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–æ –∑–≤—É–∫–æ–º:', error);
                video.muted = true; // –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –≤–∫–ª—é—á–∞–µ–º –±–µ–∑ –∑–≤—É–∫–∞
                video.play(); // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∑–≤—É–∫–∞
            });
    
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
            const skipButton = document.createElement('button');
            skipButton.textContent = '–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å';
            skipButton.classList.add('skip-button'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
    
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
            skipButton.addEventListener('click', () => {
                video.pause(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ
                showNextMessage(); // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
            });
    
            messageDiv.appendChild(skipButton);
    
            // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–∏–¥–µ–æ
            video.addEventListener('ended', () => {
                if (messageIndex < dialogs[currentDialog].length - 1) {
                    setTimeout(showNextMessage, 1000); // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
                } else {
                    setTimeout(switchDialog, 2000); // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥
                }
            });
        } else {
            messageDiv.textContent = text;
        }
    
        chatBody.appendChild(messageDiv);
        chatBody.scrollTop = chatBody.scrollHeight; // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
    
        // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –≤–∏–¥–µ–æ, —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
        if (sender !== 'video') {
            if (messageIndex < dialogs[currentDialog].length - 1) {
                setTimeout(showNextMessage, 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
            } else {
                setTimeout(switchDialog, 2000); // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥
            }
        }
    }
    
    
    
    
    
    
    function showNextMessage() {
        if (messageIndex < dialogs[currentDialog].length) {
            const { sender, text } = dialogs[currentDialog][messageIndex];
            addMessage(sender, text);
            messageIndex++;
        } else {
            switchDialog(); // –ï—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –ø–µ—Ä–µ–ø–∏—Å–∫–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥
        }
    }

    function switchDialog() {
        const currentIndex = Array.from(dialogItems).findIndex(item => item.dataset.dialog === currentDialog);
        const nextIndex = (currentIndex + 1) % dialogItems.length; // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥

        // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å 'item_1' —É —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
        dialogItems[currentIndex].classList.remove('item_1');

        currentDialog = dialogItems[nextIndex].dataset.dialog;
        messageIndex = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–Ω–¥–µ–∫—Å —Å–æ–æ–±—â–µ–Ω–∏–π
        chatBody.innerHTML = ''; // –û—á–∏—â–∞–µ–º —á–∞—Ç

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ –¥–∏–∞–ª–æ–≥–æ–≤
        if (nextIndex === 0) {
            // –ï—Å–ª–∏ –≤—Å–µ –¥–∏–∞–ª–æ–≥–∏ –±—ã–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            setTimeout(() => {
                window.location.href = 'page_5.html'; // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            }, 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        } else {
            showNextMessage(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'item_1' –∫ –Ω–æ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
        dialogItems[nextIndex].classList.add('item_1');
    }

    dialogItems.forEach(item => {
        item.addEventListener('click', () => {
            // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å 'item_1' —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            dialogItems.forEach(dialogItem => dialogItem.classList.remove('item_1'));

            currentDialog = item.dataset.dialog;
            messageIndex = 0;
            chatBody.innerHTML = ''; // –û—á–∏—â–∞–µ–º —á–∞—Ç
            showNextMessage(); // –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'item_1' –∫ —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
            item.classList.add('item_1');
        });
    });

    // –ù–∞—á–∏–Ω–∞–µ–º —Å –ø–µ—Ä–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
    dialogItems[0].classList.add('item_1'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'item_1' –∫ –ø–µ—Ä–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
    showNextMessage(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
});
